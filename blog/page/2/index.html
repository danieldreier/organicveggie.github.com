
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Blind Squirrel</title>
  <meta name="author" content="Sean Laurent">

  
  <meta name="description" content="While working on a recent project in GWT, I needed to embed a full HTML document inside an IFRAME. And I didn&#8217;t want to specify a remote URL &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.bealetech.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Blind Squirrel" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Blind Squirrel</a></h1>
  
    <h2>Once in a while, even a blind squirrel finds a nut.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.bealetech.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives/">Archives</a></li>
  <li><a href="/presentations/">Presentations</a></li>
  <li><a href="/projects/">Projects</a></li>
  <li><a href="/about/">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/25/embedding-html-document-in-an-iframe-with-gwt/">Embedding HTML Document in an IFRAME With GWT</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-25T16:10:00-08:00" pubdate data-updated="true">Jan 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While working on a recent project in GWT, I needed to embed a full HTML document inside an IFRAME. And I didn&#8217;t want to specify a remote URL for the IFRAME - I actually wanted to shove the HTML content directly into the IFRAME.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/01/25/embedding-html-document-in-an-iframe-with-gwt/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/01/subversion-file-or-directory-is-out-of-date-try-updating/">Subversion: File or Directory Is Out of Date; Try Updating</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-01T18:36:00-08:00" pubdate data-updated="true">Jan 1<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently started encountering a strange problem with Subversion on one of my machines. In larger commits, I would suddenly get an error:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>svn ci -m <span class="s2">&quot;My commit message.&quot;</span>
</span><span class='line'>Sending        src/Foo.java
</span><span class='line'>svn: Commit failed <span class="o">(</span>details follow<span class="o">)</span>:
</span><span class='line'>svn: File or directory <span class="s1">&#39;src/Foo.java&#39;</span> is out of date; try updating
</span><span class='line'>svn: resource out of date; try updating
</span></code></pre></td></tr></table></div></figure>


<p>Although I was positive the file(s) were up to date, I ran an svn up just to be safe:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>svn up
</span><span class='line'>At revision 10803.
</span></code></pre></td></tr></table></div></figure>


<p>Nothing changed. If I tried to commit again, I would get the same out of date error. Eventually I figured out that if I delete the folder containing the problematic file, ran svn up to restore the working copy and re-edited (or restored from a backup) the modified file, the problem went away. This suggested an issue with the Subversion metadata, but this <a href="http://pageworthy.com/blog/2009/apr/14/subversion-says-your-file-or-directory-probably-ou/">blog post from Pageworthy</a> describes a much easier work around:</p>

<blockquote><p>Delete the all-wcprops file from the .svn metadata folder for the offending file.</p><footer><strong>Pageworthy</strong> <cite><a href='http://pageworthy.com/blog/2009/apr/14/subversion-says-your-file-or-directory-probably-ou/'>pageworthy.com/blog/2009/apr/14/&hellip;</a></cite></footer></blockquote>


<p>In other words, if Subversion complains about <code>src/com/mycompany/Foo.java</code>, then delete <code>src/com/mycompany/.svn/all-wcprops</code>.</p>

<ul>
<li>OS: Mac 10.6</li>
<li>IDE: Eclipse 20090920-1017</li>
<li>Subversive Team Provider: 0.7.8</li>
<li>Subversive Connectors: 2.2.1</li>
<li>SVNKit 1.3.0: 2.2.1</li>
<li>Subversion: 1.6.6</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/12/06/kubuntu-9-dot-10-dual-monitors/">Kubuntu 9.10 Dual Monitors</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-12-06T11:12:00-08:00" pubdate data-updated="true">Dec 6<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A few months back I got a new <a href="http://system76.com/product_info.php?cPath=28&amp;products_id=76">12.1&#8221; System76 Darter laptop</a> and I finally decided to setup dual monitors on Kubuntu 9.10 (Karmic Koala).What I wanted was to have my laptop LCD on the left at 1280x800 and my ViewSonic LCD panel on the right running at 1680x1050. Apparently I&#8217;m old-skool, because I&#8217;m used to hacking away at my <code>xorg.conf</code> just to get dual monitor support to work under Linux. Somehow I never knew about <a href="http://www.x.org/wiki/Projects/XRandR">xrandr</a>, KRandR, etc.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2009/12/06/kubuntu-9-dot-10-dual-monitors/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/04/spring-propertyplaceholderconfigurer-beans/">Spring PropertyPlaceholderConfigurer Beans</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-04T23:00:00-07:00" pubdate data-updated="true">May 4<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So I found a scenario today where we had two different <code>PropertyPlaceHolderConfigurer</code> beans declared in two separate XML files. Unfortunately, the second property file wasnâ€™t getting loaded, so we would get errors about Spring being unable to resolve particular properties.</p>

<p>I found this great post summarizing the solution:</p>

<p><a href="http://dotal.wordpress.com/2007/09/14/mulitple-propertyplaceholderconfigurer-configurations/">http://dotal.wordpress.com/2007/09/14/mulitple-propertyplaceholderconfigurer-configurations/</a></p>

<p>Basically, you have to update the definition for the first <code>PropertyPlaceHolderConfigurer</code> bean that gets loaded and add the <code>ignoreUnresolvablePlaceholders</code> property:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;mailProps&quot;</span> <span class="na">class=</span><span class="s">&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>         <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;location&quot;</span> <span class="na">value=</span><span class="s">&quot;classpath:mail.properties&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>         <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;ignoreUnresolvablePlaceholders&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/bean&gt;</span> 
</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/08/19/dry-associations-in-rails/">DRY Associations in Rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-08-19T23:00:00-07:00" pubdate data-updated="true">Aug 19<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I found a nice little article from a few months ago on <a href="http://therailsway.com/">The Rails Way</a>. Written by koz, <a href="http://therailsway.com/2007/3/26/association-proxies-are-your-friend">Assocation Proxies</a> talks about some Best Practices for using assocations within Rails. I really felt the suggestions hit the proverbial nail on the head in terms of following the DRY principles. The first suggestion was on the best way to restrict access to user specific information. It&#8217;s incredibly useful to take advantage your RESTful patterns and make a single call like:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="vi">@todo_list</span> <span class="o">=</span> <span class="n">current_user</span><span class="o">.</span><span class="n">todo_lists</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Of course, I also loved the final suggestion in Case Three: using a has_many with a condition on it:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">has_many</span> <span class="ss">:completed_lists</span><span class="p">,</span> <span class="ss">:class_name</span> <span class="o">=&gt;</span> <span class="s2">&quot;TodoList&quot;</span><span class="p">,</span> <span class="ss">:conditions</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:completed</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Excellent!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/06/04/struts-redirect-w-slash-parameters-part-2/">Struts Redirect w/Parameters Part 2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-06-04T23:00:00-07:00" pubdate data-updated="true">Jun 4<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In an <a href="/blog/2006/01/23/struts-redirect-w-slash-parameters/">earlier post</a>, I described a class to handle redirects in Struts and passing parameters along. That technique is not necessary; as of Struts 1.2.7, you can use the <code>ActionRedirect</code> class instead.</p>

<p>Here&#8217;s a basic example from inside the execute method in an Action.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">ActionRedirect</span> <span class="n">redirect</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ActionRedirect</span><span class="o">(</span><span class="n">mapping</span><span class="o">.</span><span class="na">findForward</span><span class="o">(</span><span class="s">&quot;success&quot;</span><span class="o">));</span>
</span><span class='line'><span class="n">redirect</span><span class="o">.</span><span class="na">addParameter</span><span class="o">(</span><span class="s">&quot;myparam&quot;</span><span class="o">,</span><span class="s">&quot;myvalue&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">redirect</span><span class="o">.</span><span class="na">addParameter</span><span class="o">(</span><span class="s">&quot;something&quot;</span><span class="o">,</span><span class="s">&quot;fornothing&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">redirect</span><span class="o">.</span><span class="na">addParameter</span><span class="o">(</span><span class="s">&quot;answer&quot;</span><span class="o">,</span><span class="s">&quot;42&quot;</span><span class="o">);</span>
</span><span class='line'><span class="k">return</span> <span class="n">redirect</span><span class="o">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The <code>ActionRedirect</code> class is basically the same as my ForwardParameter class and is probably preferable.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/05/24/exception-handling-framework-for-j2ee-applications/">Exception Handling Framework for J2EE Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-05-24T23:00:00-07:00" pubdate data-updated="true">May 24<span>th</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>OnJava has an interesting <a href="http://www.onjava.com/pub/a/onjava/2006/01/11/exception-handling-framework-for-j2ee.html">article</a> on generic approach to handling exceptions within a J2EE framework. The basic idea involves creating a generic base class for exceptions and a basic handler for all requests that includes dispatcher to pass the request along to the appropriate method.The fundamental idea is fairly sound and the idea of including a context to allow reuse of generic exceptions seems like a strong idea.</p>

<p>My concern is that in a large project, the use of a &#8220;context&#8221; may make it difficult to figure out which specific message code is used in a given place. The generic exception handling is especially beneficial for the &#8220;this should never happen&#8221; cases where there isn&#8217;t much the app can do about the exception, but should still handle it in a robust manner.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2006/01/23/struts-redirect-w-slash-parameters/">Struts Redirect w/Parameters</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-01-23T23:00:00-08:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2006</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you have a Struts Action servlet and you want to redirect to another page, the standard Struts technique is to return an ActionForward and setup an appropriate forward entry in <code>struts-config.xml</code>:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">return</span> <span class="n">mapping</span><span class="o">.</span><span class="na">findForward</span><span class="o">(</span><span class="s">&quot;success&quot;</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Unfortunately, this doesnâ€™t provide a mechanism for passing request parameters to the target. So what can you do if you want to redirect to another page and pass some parameters along? You use an additional class:</p>

<figure class='code'><figcaption><span>ForwardParameters.java </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ForwardParameters</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>  <span class="kd">private</span> <span class="n">Map</span> <span class="n">params</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="nf">ForwardParameters</span><span class="o">()</span>
</span><span class='line'>  <span class="o">{</span>
</span><span class='line'>    <span class="n">params</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">   * Add a single parameter and value.</span>
</span><span class='line'><span class="cm">   *</span>
</span><span class='line'><span class="cm">   * @param paramName     Parameter name</span>
</span><span class='line'><span class="cm">   * @param paramValue    Parameter value</span>
</span><span class='line'><span class="cm">   *</span>
</span><span class='line'><span class="cm">   * @return A reference to this object.</span>
</span><span class='line'><span class="cm">   */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">ForwardParameters</span> <span class="nf">add</span><span class="o">(</span><span class="n">String</span> <span class="n">paramName</span><span class="o">,</span> <span class="n">String</span> <span class="n">paramValue</span><span class="o">)</span>
</span><span class='line'>  <span class="o">{</span>
</span><span class='line'>    <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span><span class="n">paramValue</span><span class="o">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">   * Add a set of parameters and values.</span>
</span><span class='line'><span class="cm">   *</span>
</span><span class='line'><span class="cm">   * @param paramMap  Map containing parameter names and values.</span>
</span><span class='line'><span class="cm">   *</span>
</span><span class='line'><span class="cm">   * @return A reference to this object.</span>
</span><span class='line'><span class="cm">   */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">ForwardParameters</span> <span class="nf">add</span><span class="o">(</span><span class="n">Map</span> <span class="n">paramMap</span><span class="o">)</span>
</span><span class='line'>  <span class="o">{</span>
</span><span class='line'>    <span class="n">Iterator</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">keySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span>
</span><span class='line'>    <span class="k">while</span> <span class="o">(</span><span class="n">itr</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>      <span class="n">String</span> <span class="n">paramName</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">itr</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
</span><span class='line'>      <span class="n">params</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">paramName</span><span class="o">,</span> <span class="n">paramMap</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">paramName</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="cm">/**</span>
</span><span class='line'><span class="cm">   * Add parameters to a provided ActionForward.</span>
</span><span class='line'><span class="cm">   *</span>
</span><span class='line'><span class="cm">   * @param forward    The ActionForward object to add parameters to.</span>
</span><span class='line'><span class="cm">   *</span>
</span><span class='line'><span class="cm">   * @return ActionForward with parameters added to the URL.</span>
</span><span class='line'><span class="cm">   */</span>
</span><span class='line'>  <span class="kd">public</span> <span class="n">ActionForward</span> <span class="nf">forward</span><span class="o">(</span><span class="n">ActionForward</span> <span class="n">forward</span><span class="o">)</span>
</span><span class='line'>  <span class="o">{</span>
</span><span class='line'>    <span class="n">StringBuffer</span> <span class="n">path</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">(</span><span class="n">forward</span><span class="o">.</span><span class="na">getPath</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Iterator</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="na">entrySet</span><span class="o">().</span><span class="na">iterator</span><span class="o">();</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">itr</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span>
</span><span class='line'>    <span class="o">{</span>
</span><span class='line'>      <span class="c1">//add first parameter, if avaliable</span>
</span><span class='line'>      <span class="n">Map</span><span class="o">.</span><span class="na">Entry</span> <span class="n">entry</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">itr</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
</span><span class='line'>      <span class="n">path</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;?&quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1">//add other parameters</span>
</span><span class='line'>      <span class="k">while</span> <span class="o">(</span><span class="n">itr</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span>
</span><span class='line'>      <span class="o">{</span>
</span><span class='line'>        <span class="n">entry</span> <span class="o">=</span> <span class="o">(</span><span class="n">Map</span><span class="o">.</span><span class="na">Entry</span><span class="o">)</span> <span class="n">itr</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
</span><span class='line'>        <span class="n">path</span><span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;&amp;amp;&quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="o">.</span><span class="na">getKey</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span> <span class="n">entry</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
</span><span class='line'>      <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="k">new</span> <span class="nf">ActionForward</span><span class="o">(</span><span class="n">path</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Here are some examples of using ForwardParameters:</p>

<p>Long form:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="n">mapping</span><span class="o">.</span><span class="na">findForward</span><span class="o">(</span><span class="s">&quot;success&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">ForwardParameters</span> <span class="n">fwdParams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ForwardParameters</span><span class="o">();</span>
</span><span class='line'><span class="n">fwdParams</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;myparam&quot;</span><span class="o">,</span> <span class="s">&quot;myvalue&quot;</span><span class="o">);</span>
</span><span class='line'><span class="n">fwdParams</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;something&quot;</span><span class="o">,</span> <span class="s">&quot;fornothing&quot;</span><span class="o">);</span>
</span><span class='line'><span class="k">return</span> <span class="n">fwdParams</span><span class="o">.</span><span class="na">forward</span><span class="o">(</span><span class="n">forward</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Concise form:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">ActionForward</span> <span class="n">forward</span> <span class="o">=</span> <span class="n">mapping</span><span class="o">.</span><span class="na">findForward</span><span class="o">(</span><span class="s">&quot;success&quot;</span><span class="o">);</span>
</span><span class='line'><span class="k">return</span> <span class="k">new</span> <span class="nf">ForwardParameters</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;myparam&quot;</span><span class="o">,</span> <span class="s">&quot;myvalue&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;something&quot;</span><span class="o">,</span> <span class="s">&quot;fornothing&quot;</span><span class="o">).</span><span class="na">forward</span><span class="o">(</span><span class="n">forward</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ultra concise form:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="k">return</span> <span class="k">new</span> <span class="nf">ForwardParameters</span><span class="o">().</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;myparam&quot;</span><span class="o">,</span> <span class="s">&quot;myvalue&quot;</span><span class="o">).</span><span class="na">add</span><span class="o">(</span><span class="s">&quot;something&quot;</span><span class="o">,</span> <span class="s">&quot;fornothing&quot;</span><span class="o">).</span><span class="na">forward</span><span class="o">(</span><span class="n">mapping</span><span class="o">.</span><span class="na">findForward</span><span class="o">(</span><span class="s">&quot;success&quot;</span><span class="o">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is based on a suggestion I found on <a href="http://www.experts-exchange.com/">Experts-Exchange</a> by <a href="http://www.experts-exchange.com/Programming/Programming_Languages/Java/Q_20830927.html">dualsoul</a>.</p>

<hr />

<p>Edit June 5th, 2006:</p>

<p>As someone just pointed out to me this morning, you can use the <code>ActionRedirect</code> class instead of my <code>ForwardParameters</code> class. According to the JavaDocs, <code>ActionRedirect</code> was added in Struts 1.2.7 and is:</p>

<blockquote><p>&#8230; a subclass of ActionForward which is designed for use in redirecting requests, with support for adding parameters at runtime.</p><footer><strong>JavaDocs</strong></footer></blockquote>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2005/12/27/prefactoring/">Prefactoring</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2005-12-27T23:00:00-08:00" pubdate data-updated="true">Dec 27<span>th</span>, 2005</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Prefactoring is the process of using your experience to write better code.  Specifically, writing code that can be refactored more easily, that is easier to read and easier to maintain.</p>

<p>The article is available on <a href="http://www.oreillynet.com/">oreillynet.com</a>:</p>

<p><a href="http://www.oreillynet.com/pub/a/network/2005/11/15/what-is-prefactoring.html">What Is Prefactoring?</a> by Ken Pugh, author of <a href="http://www.oreilly.com/catalog/prefactoring/">Prefactoring</a>.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/04/29/asgard-and-mater-cookbooks/">Asgard and Mater Cookbooks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/10/pushing-to-maven-central-with-sonatype/">Pushing to Maven Central with Sonatype</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/28/distributed-graphite-on-ec2/">Distributed Graphite on EC2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/15/testing-logstash-grok-filters/">Testing Logstash grok filters</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/10/14/why-postgresql/">Why PostgreSQL?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul>
    <li>
      <a href="https://github.com/StudyBlue/ec2launcher">ec2launcher</a>
      <p>EC2 instance launching tool</p>
    </li>
  </ul>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/organicveggie">@organicveggie</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'organicveggie',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/100016775815082041155?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Sean Laurent -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
