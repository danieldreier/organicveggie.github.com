
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Blind Squirrel</title>
  <meta name="author" content="Sean Laurent">

  
  <meta name="description" content="Some time ago, we switched from Cacti to Graphite for tracking and graphing system metrics. In our Amazon EC2 environment, we frequently startup new &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://organicveggie.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Blind Squirrel" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Blind Squirrel</a></h1>
  
    <h2>Once in a while, even a blind squirrel finds a nut.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:organicveggie.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/presentations">Presentations</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/28/distributed-graphite-on-ec2/">Distributed Graphite on EC2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-28T14:20:00-07:00" pubdate data-updated="true">May 28<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some time ago, we switched from <a href="http://www.cacti.net/">Cacti</a> to <a href="http://graphite.wikidot.com/">Graphite</a> for tracking and graphing system metrics. In our <a href="http://aws.amazon.com/ec2/">Amazon EC2 environment</a>, we frequently startup new servers and shut down old servers. While Cacti did a decent job, the amount of manual effort required to setup new graphs made it a challenge to use. Since Graphite simply tracks anything you throw at it and easily handles applying aggregate functions across multiple metrics, we found Graphite to be a much better fit with EC2 and our usage patterns. With a solid web interface and a variety of alternate front-ends and awesome dashboard tools like <a href="http://jondot.github.com/graphene/">Graphene</a>, we quickly fell in love with Graphite.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/05/28/distributed-graphite-on-ec2/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/15/testing-logstash-grok-filters/">Testing Logstash Grok Filters</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-15T13:25:00-07:00" pubdate data-updated="true">May 15<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Logstash is an outstanding tool for collecting and parsing logfiles. In particular, the grok filter is extremely useful to extract specific pieces of data from your logfiles. Once you pull data out of the logfiles into fields, you can easily search on those fields. Unfortunately, I find the format for patterns in grok filter challenging to write correctly. If you mess up your pattern, you will end up with the dreaded &#8220;_grokparsefailure&#8221; tag on your log entry. What you need is a way to test your patterns before adding them to Logstash.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/05/15/testing-logstash-grok-filters/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/10/14/why-postgresql/">Why PostgreSQL?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-10-14T22:49:00-07:00" pubdate data-updated="true">Oct 14<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Quick overview of what PostgreSQL brings to the table that is not available in MySQL.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/10/14/why-postgresql/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/08/11/different-content-in-rails-based-on-useragent/">Different Content in Rails Based on UserAgent</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-11T10:57:00-07:00" pubdate data-updated="true">Aug 11<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was recently working on a website built using Rails that needed to render different content for certain user agents. Specifically, we needed simpler versions of certain pages for BlackBerry devices. Here&#8217;s how I accomplished it.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/08/11/different-content-in-rails-based-on-useragent/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/07/25/tomcat-init-script-for-ubuntu/">Tomcat Init Script for Ubuntu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-25T13:06:00-07:00" pubdate data-updated="true">Jul 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I spent some time working on improving my init scripts for Tomcat 6.x in a production environment running Ubuntu. One of the major problems we had encountered was that occasionally Tomcat refuses to shut down completely and requires a <code>kill -9</code> to stop it. The standard init scripts I had seen didn&#8217;t solve this problem at all.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/07/25/tomcat-init-script-for-ubuntu/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/03/ruby-mixin-for-the-enum-pattern/">Ruby Mixin for the Enum Pattern</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-03T14:27:00-07:00" pubdate data-updated="true">Jun 3<span>rd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sometimes you just want to use an Enum. Unfortunately, if you&#8217;re a Ruby developer, Ruby does not offer a native enum structure.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/06/03/ruby-mixin-for-the-enum-pattern/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/24/to-rewrite-or-not-to-rewrite-the-ugly-question/">To Rewrite or Not to Rewrite: The Ugly Question</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-24T14:07:00-07:00" pubdate data-updated="true">Apr 24<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently had a discussion about the idea of rewriting software from scratch. I actually played the devil&#8217;s advocate and argued against ever throwing out and rewriting, which really got me thinking about the whole concept.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/04/24/to-rewrite-or-not-to-rewrite-the-ugly-question/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/03/10/flashvars-broken-in-ie8/">FlashVars Broken in IE8</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-10T10:16:00-08:00" pubdate data-updated="true">Mar 10<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Unsurprisingly, Internet Explorer 8 broke yet another feature of the web.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/03/10/flashvars-broken-in-ie8/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/25/embedding-html-document-in-an-iframe-with-gwt/">Embedding HTML Document in an IFRAME With GWT</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-25T16:10:00-08:00" pubdate data-updated="true">Jan 25<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>While working on a recent project in GWT, I needed to embed a full HTML document inside an IFRAME. And I didn&#8217;t want to specify a remote URL for the IFRAME - I actually wanted to shove the HTML content directly into the IFRAME.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2010/01/25/embedding-html-document-in-an-iframe-with-gwt/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/01/01/subversion-file-or-directory-is-out-of-date-try-updating/">Subversion: File or Directory Is Out of Date; Try Updating</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-01T18:36:00-08:00" pubdate data-updated="true">Jan 1<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently started encountering a strange problem with Subversion on one of my machines. In larger commits, I would suddenly get an error:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>svn ci -m <span class="s2">&quot;My commit message.&quot;</span>
</span><span class='line'>Sending        src/Foo.java
</span><span class='line'>svn: Commit failed <span class="o">(</span>details follow<span class="o">)</span>:
</span><span class='line'>svn: File or directory <span class="s1">&#39;src/Foo.java&#39;</span> is out of date; try updating
</span><span class='line'>svn: resource out of date; try updating
</span></code></pre></td></tr></table></div></figure>


<p>Although I was positive the file(s) were up to date, I ran an svn up just to be safe:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>svn up
</span><span class='line'>At revision 10803.
</span></code></pre></td></tr></table></div></figure>


<p>Nothing changed. If I tried to commit again, I would get the same out of date error. Eventually I figured out that if I delete the folder containing the problematic file, ran svn up to restore the working copy and re-edited (or restored from a backup) the modified file, the problem went away. This suggested an issue with the Subversion metadata, but this <a href="http://pageworthy.com/blog/2009/apr/14/subversion-says-your-file-or-directory-probably-ou/">blog post from Pageworthy</a> describes a much easier work around:</p>

<blockquote><p>Delete the all-wcprops file from the .svn metadata folder for the offending file.</p><footer><strong>Pageworthy</strong> <cite><a href='http://pageworthy.com/blog/2009/apr/14/subversion-says-your-file-or-directory-probably-ou/'>pageworthy.com/blog/2009/apr/14/&hellip;</a></cite></footer></blockquote>


<p>In other words, if Subversion complains about <code>src/com/mycompany/Foo.java</code>, then delete <code>src/com/mycompany/.svn/all-wcprops</code>.</p>

<ul>
<li>OS: Mac 10.6</li>
<li>IDE: Eclipse 20090920-1017</li>
<li>Subversive Team Provider: 0.7.8</li>
<li>Subversive Connectors: 2.2.1</li>
<li>SVNKit 1.3.0: 2.2.1</li>
<li>Subversion: 1.6.6</li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/05/28/distributed-graphite-on-ec2/">Distributed Graphite on EC2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/15/testing-logstash-grok-filters/">Testing Logstash grok filters</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/10/14/why-postgresql/">Why PostgreSQL?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/08/11/different-content-in-rails-based-on-useragent/">Different content in Rails based on UserAgent</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/07/25/tomcat-init-script-for-ubuntu/">Tomcat init script for Ubuntu</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul>
    <li>
      <a href="https://github.com/StudyBlue/ec2launcher">ec2launcher</a>
      <p>EC2 instance launching tool</p>
    </li>
  </ul>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/organicveggie">@organicveggie</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'organicveggie',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Stack Exchange</h1>
  <a href="http://stackexchange.com/users/65485">
    <img src="http://stackexchange.com/users/flair/65485.png" width="208" height="58" alt="profile for organicveggie on Stack Exchange, a network of free, community-driven Q&amp;A sites" title="profile for organicveggie on Stack Exchange, a network of free, community-driven Q&amp;A sites">
  </a>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/100016775815082041155?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Sean Laurent -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
